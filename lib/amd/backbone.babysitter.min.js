// Backbone.BabySitter, v0.0.1
// Copyright (c)2012 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
// http://github.com/marionettejs/backbone.babysitter
(function(e,t){if(typeof exports=="object"){var n=require("underscore"),r=require("backbone");module.exports=t(n,r)}else typeof define=="function"&&define.amd&&define(["underscore","backbone"],t)})(this,function(e,t){"option strict";return t.ChildViewContainer=function(e){this._views={},this._indexByModel={},this._indexByCollection={},this._indexByCustom={}},e.extend(t.ChildViewContainer.prototype,{add:function(e,t){var n=e.cid;this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),e.collection&&(this._indexByCollection[e.collection.cid]=n),t&&(this._indexByCustom[t]=n)},findByModel:function(e){var t=this._indexByModel[e.cid];return this.findByCid(t)},findByCollection:function(e){var t=this._indexByCollection[e.cid];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByCid:function(e){return this._views[e]},remove:function(t){var n=t.cid;t.model&&delete this._indexByModel[t.model.cid],t.collection&&delete this._indexByCollection[t.collection.cid];var r;e.each(e.keys(this._indexByCustom),function(e){var t=this._indexByCustom[e];t===n&&(r=e)},this),r&&delete this._indexByCustom[r],delete this._views[n]},call:function(e,t){t=Array.prototype.slice.call(arguments,1),this.apply(e,t)},apply:function(t,n){var r;e.each(this._views,function(r,i){e.isFunction(r[t])&&r[t].apply(r,n)})}}),t.ChildViewContainer});